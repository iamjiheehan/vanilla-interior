import layout from"./layout.js";export default class extends layout{constructor(e){super(e),this.setTitle("Design")}async getHTML(){return'\n            <div class="design">\n                <div id="myProgress">\n                    <div id="myBar" style = "width : 33.33%"></div>\n                </div>\n                <h1>선호하는 스타일을 알려주세요</h1>\n                <div class="design__img-wrap"> \n                    <div class="design__drag-zone">\n                        <img class="design__drag-item" draggable="true" src="public/img/design-1.jpg" alt="Bohemian">\n                        <img class="design__drag-item" draggable="true" src="public/img/design-2.jpg" alt="Mid Century Modern">\n                        <img class="design__drag-item" draggable="true" src="public/img/design-3.jpg" alt="Scandinavian">\n                        <img class="design__drag-item" draggable="true" src="public/img/design-4.jpg" alt="Industrial">\n                        <img class="design__drag-item" draggable="true" src="public/img/design-5.jpg" alt="Preppy">\n                        <img class="design__drag-item" draggable="true" src="public/img/design-6.jpg" alt="Rustic">\n                        <img class="design__drag-item" draggable="true" src="public/img/design-7.jpg" alt="Minimal">\n                        <img class="design__drag-item" draggable="true" src="public/img/design-8.jpg" alt="Glam">\n                    </div>\n                    <div class="design__drag-zone design__drag-border">\n                        <div class = "design__drag-zone-text">\n                            <h2><span>✔</span> 마음에 드는 스타일 3가지를 여기에 넣어주세요</h2>\n                            <button class="reset-btn">Reset</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="design__btn-wrap">\n                    <a href="/board" data-link id = "next-btn"> 다음 페이지 </a>\n                </div>\n            </div>\n        '}executeScript(){console.log("hello This is design Page"),document.querySelector(".reset-btn").addEventListener("click",(()=>{location.reload()}));const e=document.querySelectorAll(".design__drag-item"),n=document.querySelectorAll(".design__drag-zone"),i=[];e.forEach((e=>{e.addEventListener("dragstart",(()=>{e.classList.add("dragging")})),e.addEventListener("dragend",(()=>{e.classList.remove("dragging")}))})),n.forEach((e=>{e.addEventListener("dragover",(n=>{n.preventDefault();const s=function(e,n){return[...e.querySelectorAll(".draggable:not(.dragging)")].reduce(((e,i)=>{const s=i.getBoundingClientRect(),t=n-s.top-s.height/2;return t<0&&t>e.offset?{offset:t,element:i}:e}),{offset:Number.NEGATIVE_INFINITY}).element}(e,n.clientY),t=document.querySelector(".dragging"),g=e.querySelectorAll(".design__drag-item").length,a=e.contains(t);if(!a&&null==s&&g<3&&i.length<3)e.appendChild(t),i.push(t);else if(!a&&g<3&&i.length<3){const n=e.insertBefore(t,s);i.push(n)}else t.classList.contains("item")&&a&&i.push(t);const d=i.map((e=>e.alt));console.log(d),localStorage.setItem("altTexts",JSON.stringify(d))}))}))}}